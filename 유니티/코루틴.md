# 코루틴

코루틴 시작 이후 한번의 실행이 끝나고 나면 해당 코루틴은 Update 이후의 순서로 위치하게 됨

Awake -> Start -> Update - (yield) - Coroutine

유니티는 동시에 여러 함수를 처리할 수 없기 때문에 순서대로 하나씩 수행하면서 순환하게 된다.

Update, FixedUpdate, LateUpdate 등의 함수들은 고정된 일정 주기(프레임 등)를 가지고 수행되지만, Coroutine은 일반 함수들과 다르게 자체적으로 yield라는 함수 제어권을 가지고 있기 때문에 자신이 원하는 타이밍에 yield를 던져 잠시 수행을 멈춘 뒤 다음 순서로 넘어가게 할 수 있다. 그리고 다시 Update 이후 자신의 순서가 돌아오면 이전에 멈췄던 지점에서 다시 코드를 실행한다.

## yield의 종류  
yiled return null; -> 다음 프레임까지 대기  
yield return WaitForSeconds(float f); -> 일정 시간동안 대기  
yield return break; -> 코루틴 종료

## 코루틴 장점 및 단점

장점
1. 타이밍에서 맞춰서 코드들을 실행시킬 수 있음
2. StartCoroutine, StopCoroutine으로 시작, 종료를 할 수 있어서 필요한 것만 작동시키고 끌 수 있음
3. 반복되는 여러 기능들이 Update에서 섞이지 않아서, 따로 관리하기 편함

단점
1. 스크립트가 Disable 될 때 코루틴도 같이 종료시켜주어야 함
2. 선형적인 코드 작성 방식에서 벗어나기 때문에 빠른 코드 해석이 어려워 질 수 있음
3. 쓰레기 메모리, 가비지를 자주 생성함

## 결론

1. 복잡한 조건 X 계속 사용되는 것은 Update
2. 똑같은 조건으로 반복되는 코루틴에서 Wait문 캐싱해서 사용
3. 코루틴을 수시로 시작하고 죵료하지 않기
